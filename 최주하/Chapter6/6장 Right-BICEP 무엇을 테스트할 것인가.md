# 6장. Right-BICEP 무엇을 테스트 할 것인가?

>📝 **6장 학습 내용**
>
>- Right-BICEP은 테스트 대상을 선별해내는 기준을 제시한다.
>- RIGHT
>- Boundary conditions
>- Inverse relationships
>- Cross-checks
>- Error conditions
>- Performance characteristics


## Right

---

- 진짜 테스트가 필요한 코드를 테스트해야 한다!
- 실제로 정상적인 동작을 하는지를 파악한다.

## Boundary conditions

---

**고려해야 하는 경계 조건**

>- 모호하고 일관성 없는 입력값
>- 잘못된 양식의 데이터
>- 수치적 오버플로우를 일으키는 계산
>- 비거나 빠진 값
>- 일반적인 기댓값을 훨씬 벗어나는 값
>- 중복을 허용하지 않는 데이터에서 중복값이 있는 경우
>- 정렬 알고리즘에 이미 정렬된 값을 넣는 경우
>- 정렬 알고리즘에 역순 정렬 데이터를 넣는 경우
>- 반환해야 하는 순서가 맞지 않는 경우

다음 장에서 경계 조건(CORRECT)에 대해 학습한다.

## Inverse relationships

---

입력과 출력의 반대 관계가 성립하는지 검증하는 것을 의미한다.

계산이 필요한 로직에서 주로 사용한다.

Inverse relationships 에 대해 테스트 코드를 작성할 때 주의해야 할 점은 다음과 같다.

- 공통된 코드를 호출한다면 프로덕션 코드와 역 행동은 모두 같은 결함을 공유하게 되므로 검증이 어려울 수 있다.
- 데이터베이스에 데이터를 넣는 코드가 있다면 테스트에서 직접적인 JDBC 쿼리를 하는 방법을 사용할 수 있다.

## Cross-checks

---

다른 방법으로도 결과를 검증할 수 있는지를 의미한다.

## Error conditions

---

- 잘못된 입력 값이 들어왔을 때 적절한 예외가 발생하는지, 예외가 발생하지 않아야 하는 상황에서 정말 예외가 발생하지 않는지를 확인한다.

**고려해야 하는 시나리오**

>- 메모리가 가득 찰 때
>- 디스크 공간이 가득 찰 때
>- 벽시계 시간에 관한 문제들
>- 네트워크 가용성 및 오류들
>- 시스템 로드
>- 제한된 색상 팔레트
>- 매우 높거나 낮은 비디오 해상도

## Performance characteristics

---

- 추측으로 성능 문제를 짐작하는게 아니라 테스트를 통해 실제로 성능(목표 시간 내에 실행되는지, 메모리 사용량 체크)이 어떤지 파악하는 것을 의미한다.
- 성능 테스트 시, 주의 해야 할 점이 있다.
    - 타이밍과 CPU 클록 주기에 관한 이슈를 제거한다.
    - 반복하는 코드 부분을 자바가 최적화하지 못하는지 확인해야 한다.
    - 느린테스트를 빠른 테스트와 분리한다.
    - 실행 시간은 다른 요소에 따라 달라질 수 있다.